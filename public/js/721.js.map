{"version":3,"file":"js/721.js?id=daba7d778d054289","mappings":"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","sources":["webpack:///./resources/js/Pages/Profit/ContentClientDebts.vue?712d","webpack:///resources/js/Pages/Profit/ContentClientDebts.vue","webpack:///./resources/js/Pages/Profit/ContentClientDebts.vue?fbad","webpack:///./resources/js/Pages/Profit/ContentClientDebts.vue","webpack:///resources/js/Shared/SelectInput.vue","webpack:///./resources/js/Shared/SelectInput.vue?fb22","webpack:///./resources/js/Shared/SelectInput.vue","webpack:///./resources/js/Shared/SelectInput.vue?fd00","webpack:///resources/js/Shared/TextInput.vue","webpack:///./resources/js/Shared/TextInput.vue?0b79","webpack:///./resources/js/Shared/TextInput.vue","webpack:///./resources/js/Shared/TextInput.vue?3549","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-full bg-white rounded-2xl  h-auto p-6 overflow-y-auto\"},[_c('div',{staticClass:\"flex justify-start gap-5 items-center\"},[_c('h3',{staticClass:\"font-bold\"},[_vm._v(\"Долги\")]),_vm._v(\" \"),_c('button',{staticClass:\"bg-blue-500 text-white font-bold py-2 px-4 rounded h-8\",on:{\"click\":function($event){return _vm.$modal.show('add-money')}}},[_vm._v(\"\\r\\n            + Оплата\\r\\n        \")])]),_vm._v(\" \"),_c('table',{staticClass:\"w-full whitespace-nowrap mt-5 mb-10\"},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.markets),function(market,key){return _c('tr',{key:market.id,staticClass:\"text-left border-b border-gray-200\"},[_c('td',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.onCompanyClicked(market, key)}}},[_vm._v(\"\\r\\n                \"+_vm._s(market.name)+\"\\r\\n            \")]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(market.debt_start),expression:\"market.debt_start\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(market.debt_start)},on:{\"change\":function($event){return _vm.changeDebtStart(market)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(market, \"debt_start\", $event.target.value)}}})]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.soldTotal(market)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.paidTotal(market)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s((market.debt_start + _vm.soldTotal(market) - _vm.paidTotal(market)).toFixed(2)))]),_vm._v(\" \"),_c('td',_vm._l((_vm.getRealizators(market)),function(r,key2){return _c('div',{key:key2},[_vm._v(_vm._s(r))])}),0)])})],2),_vm._v(\" \"),_c('modal',{attrs:{\"name\":\"add-money\"}},[_c('div',{staticClass:\"p-5\"},[_c('select-input',{staticClass:\"pr-6 pb-8 w-full lg:w-1/1\",attrs:{\"label\":\"Магазин\"},model:{value:(_vm.debt_branch_id),callback:function ($$v) {_vm.debt_branch_id=$$v},expression:\"debt_branch_id\"}},_vm._l((_vm.branches),function(branch){return _c('option',{key:branch.id,domProps:{\"value\":branch.id}},[_vm._v(_vm._s(branch.name))])}),0),_vm._v(\" \"),_c('text-input',{staticClass:\"pr-6 pb-8 w-full lg:w-1/1\",attrs:{\"label\":\"Сумма\"},model:{value:(_vm.debt_amount),callback:function ($$v) {_vm.debt_amount=$$v},expression:\"debt_amount\"}}),_vm._v(\" \"),_c('button',{staticClass:\"bg-blue-500 text-white font-bold py-2 px-4 rounded\",on:{\"click\":function($event){return _vm.payDebt()}}},[_vm._v(\"\\r\\n                Оплатить долг\\r\\n            \")])],1)]),_vm._v(\" \"),_c('modal',{attrs:{\"name\":\"company_branches\"}},[_c('div',{staticClass:\"px-6 py-6\"},[_vm._v(\"\\r\\n            Филиалы магазина\\r\\n            \"),_c('table',{staticClass:\"w-full whitespace-nowrap mt-5\"},[_c('tr',{staticClass:\"text-left  border-b border-gray-200\"},[_c('th',[_vm._v(\"Название\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Продано\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Оплачено\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Остальной долг\")])]),_vm._v(\" \"),_vm._l((_vm.market_branches),function(branch){return _c('tr',{key:branch.id,staticClass:\"text-left  border-b border-gray-200\"},[_c('td',[_vm._v(_vm._s(branch.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(branch.sold))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(branch.paid))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s((branch.sold - branch.paid).toFixed(2)))])])})],2)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"text-left  border-b border-gray-200\"},[_c('th',[_vm._v(\"Магазин\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Начальный долг\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Продано\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Оплачено\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Остальной долг\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Реализатор\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"w-full bg-white rounded-2xl  h-auto p-6 overflow-y-auto\">\r\n    <div class=\"flex justify-start gap-5 items-center\">\r\n        <h3 class=\"font-bold\">Долги</h3>\r\n\r\n        <button class=\"bg-blue-500 text-white font-bold py-2 px-4 rounded h-8\"\r\n            @click=\"$modal.show('add-money')\">\r\n            + Оплата\r\n        </button>\r\n    </div>\r\n\r\n    <table class=\"w-full whitespace-nowrap mt-5 mb-10\">\r\n        <tr class=\"text-left  border-b border-gray-200\">\r\n            <th>Магазин</th>\r\n            <th>Начальный долг</th>\r\n            <th>Продано</th>\r\n            <th>Оплачено</th>\r\n            <th>Остальной долг</th>\r\n            <th>Реализатор</th>\r\n        </tr>\r\n        <tr v-for=\"(market, key) in markets\" :key=\"market.id\" class=\"text-left border-b border-gray-200\">\r\n            <td class=\"cursor-pointer\"\r\n                @click=\"onCompanyClicked(market, key)\">\r\n                {{ market.name }}\r\n            </td>\r\n            <td>\r\n                <input type=\"number\"\r\n                    v-model=\"market.debt_start\"\r\n                    @change=\"changeDebtStart(market)\" />\r\n            </td>\r\n            <td>{{ soldTotal(market) }}</td>\r\n            <td>{{ paidTotal(market) }}</td>\r\n            <td>{{ (market.debt_start + soldTotal(market) - paidTotal(market)).toFixed(2) }}</td>\r\n            <td>\r\n                <div v-for=\"(r, key2) in getRealizators(market)\" :key=\"key2\">{{ r }}</div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n\r\n    <!-- Долги клиентов: Оплата долга клиентом -->\r\n    <modal name=\"add-money\">\r\n        <div class=\"p-5\">\r\n            <select-input v-model=\"debt_branch_id\" class=\"pr-6 pb-8 w-full lg:w-1/1\" label=\"Магазин\">\r\n                <option v-for=\"branch in branches\" :key=\"branch.id\" :value=\"branch.id\">{{ branch.name }}</option>\r\n            </select-input>\r\n            <text-input  v-model=\"debt_amount\" class=\"pr-6 pb-8 w-full lg:w-1/1\" label=\"Сумма\" />\r\n            <button class=\"bg-blue-500 text-white font-bold py-2 px-4 rounded\"\r\n                @click=\"payDebt()\">\r\n                Оплатить долг\r\n            </button>\r\n        </div>\r\n    </modal>\r\n\r\n\r\n    <!-- Долги клиентов: Филиалы История долга -->\r\n    <modal name=\"company_branches\">\r\n        <div class=\"px-6 py-6\">\r\n            Филиалы магазина\r\n            <table class=\"w-full whitespace-nowrap mt-5\">\r\n                <tr class=\"text-left  border-b border-gray-200\">\r\n                    <th>Название</th>\r\n                    <th>Продано</th>\r\n                    <th>Оплачено</th>\r\n                    <th>Остальной долг</th>\r\n                </tr>\r\n                <tr v-for=\"branch in market_branches\" :key=\"branch.id\" class=\"text-left  border-b border-gray-200\">\r\n                    <td>{{ branch.name }}</td>\r\n                    <td>{{ branch.sold }}</td>\r\n                    <td>{{ branch.paid }}</td>\r\n                    <td>{{ (branch.sold - branch.paid).toFixed(2) }}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </modal>\r\n</div>\r\n</template>\r\n<script>\r\nimport SelectInput from '@/Shared/SelectInput'\r\nimport TextInput from '@/Shared/TextInput'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: 'ContentClientDebts',\r\n    components: {\r\n        SelectInput,\r\n        TextInput,\r\n    },\r\n    props: {},\r\n    data() {\r\n        return {\r\n            debt_branch_id: 0,\r\n            debt_amount: 0,\r\n            market_branches: [],\r\n            markets: [],\r\n            branches: [],\r\n        }\r\n    },\r\n    created() {\r\n        this.getMarkets()\r\n    },\r\n    watch: {},\r\n    computed: {},\r\n    methods: {\r\n        getMarkets() {\r\n            axios.get('get-markets')\r\n                .then((response) => {\r\n                    this.markets = response.data.markets;\r\n                    this.branches = response.data.branches;\r\n                });\r\n        },\r\n        onCompanyClicked(market, key) {\r\n            this.market_branches = market.branches;\r\n            this.$modal.show('company_branches');\r\n        },\r\n        changeDebtStart(market) {\r\n            axios.post('dolg-start',{\r\n                id: market.id, amount: market.debt_start\r\n            });\r\n        },\r\n        soldTotal(market) {\r\n            let total = 0;\r\n            for (let i = 0; i < market.branches.length; i++) {\r\n                total += market.branches[i]['sold'];\r\n            }\r\n            return total;\r\n        },\r\n        paidTotal(market) {\r\n            let total = 0;\r\n            for (let i = 0; i < market.branches.length; i++) {\r\n                total += market.branches[i]['paid'];\r\n            }\r\n            return total;\r\n        },\r\n        getRealizators(market) {\r\n            const users = new Set();\r\n\r\n            market.branches.map((branch) => {\r\n                branch.realizators.map((realizator) => {\r\n                    users.add(realizator.first_name);\r\n                })\r\n            })\r\n\r\n            return users;\r\n        },\r\n        payDebt() {\r\n            axios.post(\"pay-owe\",{\r\n                branch_id: this.debt_branch_id,\r\n                amount: this.debt_amount\r\n            }).then((response) => {\r\n                this.$modal.hide('add-money');\r\n                alert('долг оплачен!');\r\n                location.reload();\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentClientDebts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentClientDebts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentClientDebts.vue?vue&type=template&id=81f8431e&\"\nimport script from \"./ContentClientDebts.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentClientDebts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <label v-if=\"label\" class=\"form-label\" :for=\"id\">{{ label }}:</label>\n    <select :id=\"id\" ref=\"input\" v-model=\"selected\" v-bind=\"$attrs\" class=\"form-select\" :class=\"{ error: error }\" >\n      <slot />\n    </select>\n    <div v-if=\"error\" class=\"form-error\">{{ error }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inheritAttrs: false,\n  props: {\n    id: {\n      type: String,\n      default() {\n        return `select-input-${this._uid}`\n      },\n    },\n    value: [String, Number, Boolean],\n    label: String,\n    error: String,\n  },\n  data() {\n    return {\n      selected: this.value,\n    }\n  },\n  watch: {\n    selected(selected) {\n      this.$emit('input', selected)\n    },\n  },\n  methods: {\n    focus() {\n      this.$refs.input.focus()\n    },\n    select() {\n      this.$refs.input.select()\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectInput.vue?vue&type=template&id=3bf7be1c&\"\nimport script from \"./SelectInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.label)?_c('label',{staticClass:\"form-label\",attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label)+\":\")]):_vm._e(),_vm._v(\" \"),_c('select',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected),expression:\"selected\"}],ref:\"input\",staticClass:\"form-select\",class:{ error: _vm.error },attrs:{\"id\":_vm.id},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selected=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},'select',_vm.$attrs,false),[_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"form-error\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex\" :class=\"{ 'flex-col' : !col }\">\n    <div :class=\"{ 'w-3/12' : col }\">\n      <label v-if=\"label\" class=\"form-label font-medium\" :for=\"id\">{{ label }}:</label>\n    </div>\n    <div :class=\"{ 'w-9/12' : col }\">\n      <input :id=\"id\" ref=\"input\" v-on:keyup.enter=\"onEnter\" onclick=\"select()\" v-bind=\"$attrs\" class=\"w-full block  pb-1 border-b-2 border-gray-200\" :class=\"{ error: error }\" :type=\"type\" :value=\"value\" @input=\"$emit('input', $event.target.value)\" />\n      <div class=\"w-full mt-1\">\n        <div v-if=\"error\" class=\"form-error\">{{ error }}</div>\n      </div>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nexport default {\n  inheritAttrs: false,\n  props: {\n    id: {\n      type: String,\n      default() {\n        return `text-input-${this._uid}`\n      },\n    },\n    type: {\n      type: String,\n      default: 'text',\n    },\n    col: {\n      type: Boolean,\n      default: true,\n    },\n    value: String,\n    label: String,\n    error: String,\n  },\n  methods: {\n    focus() {\n      this.$refs.input.focus()\n    },\n    select() {\n      this.$refs.input.select()\n    },\n    setSelectionRange(start, end) {\n      this.$refs.input.setSelectionRange(start, end)\n    },\n    onEnter(e) {\n      console.log('on enter...', e);\n\n      const form = event.target.form;\n      const index = [...form].indexOf(event.target);\n      \n      const next_index = index + 1;\n      form.elements[next_index].select();\n      form.elements[next_index].focus();\n\n      event.preventDefault();\n    }\n  },\n}\n</script>\n<style scoped>\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextInput.vue?vue&type=template&id=6ecb489a&scoped=true&\"\nimport script from \"./TextInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TextInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ecb489a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\",class:{ 'flex-col' : !_vm.col }},[_c('div',{class:{ 'w-3/12' : _vm.col }},[(_vm.label)?_c('label',{staticClass:\"form-label font-medium\",attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label)+\":\")]):_vm._e()]),_vm._v(\" \"),_c('div',{class:{ 'w-9/12' : _vm.col }},[_c('input',_vm._b({ref:\"input\",staticClass:\"w-full block  pb-1 border-b-2 border-gray-200\",class:{ error: _vm.error },attrs:{\"id\":_vm.id,\"onclick\":\"select()\",\"type\":_vm.type},domProps:{\"value\":_vm.value},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onEnter.apply(null, arguments)},\"input\":function($event){return _vm.$emit('input', $event.target.value)}}},'input',_vm.$attrs,false)),_vm._v(\" \"),_c('div',{staticClass:\"w-full mt-1\"},[(_vm.error)?_c('div',{staticClass:\"form-error\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"names":["name","components","SelectInput","TextInput","props","debt_branch_id","debt_amount","market_branches","markets","branches","watch","computed","methods","axios","then","market","key","id","amount","total","branch","users","branch_id","alert","location","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","$modal","show","_m","_l","onCompanyClicked","_s","directives","rawName","value","expression","attrs","domProps","changeDebtStart","target","composing","$set","soldTotal","paidTotal","debt_start","toFixed","getRealizators","r","key2","model","callback","$$v","payDebt","sold","paid","inheritAttrs","type","String","Number","Boolean","label","error","data","selected","$emit","focus","$refs","input","select","_e","_b","ref","class","$$selectedVal","Array","prototype","filter","call","options","o","map","_value","multiple","$attrs","_t","default","col","setSelectionRange","start","end","onEnter","e","console","log","form","elements","next_index","event","preventDefault","indexOf","_k","keyCode","apply","arguments","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports"],"sourceRoot":""}